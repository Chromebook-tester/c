<!DOCTYPE html>
<html lang="ja">
<head>
 <meta charset="UTF-8">
 <title>Wi-Fi 接続テスト</title>
  <link rel="stylesheet" href="common-layout.css">
 <style>
  body {
   font-family: sans-serif;
   background-color: #f5f5f5;
   padding: 40px;
   text-align: center;
  }

  .video-container {
   display: flex;
   flex-direction: row;
   justify-content: center; 
   align-items: center;
   gap: 20px;
  }

  iframe {
   width: 360px;
   height: 215px;
   border: none;
  }

  .status {
   margin-top: 30px;
   font-size: 18px;
  }

  audio {
   display: none;
  }
 </style>
</head>
<body>
 <h1><a href="../index.html" class="title-link">Wi-Fi 接続テスト</a></h1>
 <p>2つの動画が20秒以上再生できれば OK!</p>

 <div class="video-container">
  <iframe 
   src="https://www.youtube.com/embed/I8pG6bsgCYQ" 
   allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
   allowfullscreen>
  </iframe>

  <iframe 
   src="https://www.youtube.com/embed/FQi9pff_oAA" 
   allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
   allowfullscreen>
  </iframe>
 </div>

 <div class="status">
  <p>２つの動画の再生中に、画面の明るさと音量テストもしてくださいねっ😘</p>
 </div>

 <hr style="margin: 40px auto; width: 60%; border: 1px solid #ccc;">

 <div class="nav-buttons">
  <button class="nav-button" onclick="playAndNavigate('sound-previous', 'speaker-test.html')">⬅ 前のテスト</button>
  <button class="nav-button" onclick="playAndNavigate('sound-home', '../index.html')">🏠 ホーム</button>
  <button class="nav-button" onclick="playAndNavigate('sound-next', 'sleep-test.html')">次のテスト ➡</button>
 </div>

  <audio id="sound-previous" src="../media/audio/previous-button-sound.mp3"></audio>
 <audio id="sound-home" src="../media/audio/home-button-sound.mp3"></audio>
 <audio id="sound-next" src="../media/audio/next-button-sound.mp3"></audio>

 <script>
  function playAndNavigate(soundId, nextPage) {
   const audio = document.getElementById(soundId);
   if (!audio) {
    location.href = nextPage;
    return;
   }

   audio.currentTime = 0;
   audio.play().then(() => {
    setTimeout(() => {
     location.href = nextPage;
    }, 400);
   }).catch(() => {
    location.href = nextPage;
   });
  }
 </script>
</body>
</html>
